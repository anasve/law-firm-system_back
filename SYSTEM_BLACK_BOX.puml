@startuml System_Black_Box

!define SYSTEM_COLOR #E3F2FD
!define CLIENT_COLOR #C8E6C9
!define LAWYER_COLOR #B2DFDB
!define EMPLOYEE_COLOR #FFE0B2
!define ADMIN_COLOR #E1BEE7
!define GUEST_COLOR #F8BBD0
!define API_COLOR #FFF9C4

skinparam componentStyle rectangle
skinparam defaultFontSize 12
skinparam defaultFontName Arial

title Law Firm Management System - Black Box Diagram\nنظام إدارة مكتب المحاماة - مخطط الصندوق الأسود

package "External Actors / الجهات الخارجية" {
    
    actor "Client\nالعميل" as Client CLIENT_COLOR
    actor "Lawyer\nالمحامي" as Lawyer LAWYER_COLOR
    actor "Employee\nالموظف" as Employee EMPLOYEE_COLOR
    actor "Admin\nالمدير" as Admin ADMIN_COLOR
    actor "Guest\nزائر" as Guest GUEST_COLOR
}

package "Law Firm Management System\nنظام إدارة مكتب المحاماة" SYSTEM_COLOR {
    
    component "API Gateway\nبوابة الـ API" as API_Gateway API_COLOR {
        interface "REST API\n/api/*" as REST_API
    }
    
    component "Authentication Service\nخدمة المصادقة" as AuthService {
        note right
            **Authentication & Authorization**
            - Login/Logout
            - Token Management
            - Role-based Access Control
        end note
    }
    
    component "Client Services\nخدمات العميل" as ClientServices CLIENT_COLOR {
        interface "Client API\n/api/client/*" as ClientAPI
        note right
            **Client Operations:**
            - Register/Login
            - Profile Management
            - Create Consultations
            - Book Appointments
            - View Laws
            - View Fixed Prices
            - Manage Notifications
        end note
    }
    
    component "Lawyer Services\nخدمات المحامي" as LawyerServices LAWYER_COLOR {
        interface "Lawyer API\n/api/lawyer/*" as LawyerAPI
        note right
            **Lawyer Operations:**
            - Login/Profile
            - Manage Consultations
            - Manage Appointments
            - Set Availability
            - View Laws
            - Manage Notifications
        end note
    }
    
    component "Employee Services\nخدمات الموظف" as EmployeeServices EMPLOYEE_COLOR {
        interface "Employee API\n/api/employee/*" as EmployeeAPI
        note right
            **Employee Operations:**
            - Login/Profile
            - Manage Clients
            - Manage Consultations
            - Manage Appointments
            - Manage Availability
            - Manage Fixed Prices
            - Manage Notifications
        end note
    }
    
    component "Admin Services\nخدمات المدير" as AdminServices ADMIN_COLOR {
        interface "Admin API\n/api/admin/*" as AdminAPI
        note right
            **Admin Operations:**
            - Login/Profile
            - Manage Lawyers
            - Manage Employees
            - Manage Laws
            - Manage Specializations
            - View Consultations
            - Manage Job Applications
        end note
    }
    
    component "Guest Services\nخدمات الزائر" as GuestServices GUEST_COLOR {
        interface "Guest API\n/api/guest/*" as GuestAPI
        note right
            **Guest Operations:**
            - Register as Client
            - View Public Lawyers
            - View Public Specializations
            - View Published Laws
            - Submit Job Application
        end note
    }
    
    component "Database\nقاعدة البيانات" as Database {
        database "MySQL Database" {
            note right
                **Data Storage:**
                - Users (Clients, Lawyers, Employees, Admins)
                - Consultations
                - Appointments
                - Laws
                - Fixed Prices
                - Job Applications
                - Notifications
            end note
        }
    }
    
    component "File Storage\nتخزين الملفات" as FileStorage {
        storage "Storage System" {
            note right
                **File Storage:**
                - Photos
                - Certificates
                - Attachments
                - Documents
            end note
        }
    }
    
    component "Notification Service\nخدمة الإشعارات" as NotificationService {
        note right
            **Notifications:**
            - Email Notifications
            - In-App Notifications
            - Appointment Reminders
        end note
    }
}

' Client Interactions
Client --> REST_API : "HTTP Requests\nطلبات HTTP"
REST_API --> ClientAPI
ClientAPI --> AuthService : "Authenticate\nالمصادقة"
ClientAPI --> ClientServices : "Process Requests\nمعالجة الطلبات"
ClientServices --> Database : "Read/Write Data\nقراءة/كتابة البيانات"
ClientServices --> FileStorage : "Upload/Download Files\nرفع/تحميل الملفات"
ClientServices --> NotificationService : "Send Notifications\nإرسال الإشعارات"

' Lawyer Interactions
Lawyer --> REST_API : "HTTP Requests\nطلبات HTTP"
REST_API --> LawyerAPI
LawyerAPI --> AuthService : "Authenticate\nالمصادقة"
LawyerAPI --> LawyerServices : "Process Requests\nمعالجة الطلبات"
LawyerServices --> Database : "Read/Write Data\nقراءة/كتابة البيانات"
LawyerServices --> FileStorage : "Upload/Download Files\nرفع/تحميل الملفات"
LawyerServices --> NotificationService : "Send Notifications\nإرسال الإشعارات"

' Employee Interactions
Employee --> REST_API : "HTTP Requests\nطلبات HTTP"
REST_API --> EmployeeAPI
EmployeeAPI --> AuthService : "Authenticate\nالمصادقة"
EmployeeAPI --> EmployeeServices : "Process Requests\nمعالجة الطلبات"
EmployeeServices --> Database : "Read/Write Data\nقراءة/كتابة البيانات"
EmployeeServices --> FileStorage : "Upload/Download Files\nرفع/تحميل الملفات"
EmployeeServices --> NotificationService : "Send Notifications\nإرسال الإشعارات"

' Admin Interactions
Admin --> REST_API : "HTTP Requests\nطلبات HTTP"
REST_API --> AdminAPI
AdminAPI --> AuthService : "Authenticate\nالمصادقة"
AdminAPI --> AdminServices : "Process Requests\nمعالجة الطلبات"
AdminServices --> Database : "Read/Write Data\nقراءة/كتابة البيانات"
AdminServices --> FileStorage : "Upload/Download Files\nرفع/تحميل الملفات"
AdminServices --> NotificationService : "Send Notifications\nإرسال الإشعارات"

' Guest Interactions
Guest --> REST_API : "HTTP Requests\nطلبات HTTP"
REST_API --> GuestAPI
GuestAPI --> GuestServices : "Process Requests\nمعالجة الطلبات"
GuestServices --> Database : "Read Public Data\nقراءة البيانات العامة"
GuestServices --> FileStorage : "Upload Files (Job Application)\nرفع الملفات (طلب توظيف)"

' Internal System Interactions
AuthService --> Database : "Verify Credentials\nالتحقق من بيانات الدخول"
NotificationService --> Database : "Store Notifications\nتخزين الإشعارات"

' Cross-Service Interactions
ClientServices ..> LawyerServices : "Query Lawyer Data\nالاستعلام عن بيانات المحامي"
ClientServices ..> EmployeeServices : "Query Availability\nالاستعلام عن التوفر"
LawyerServices ..> ClientServices : "Query Client Data\nالاستعلام عن بيانات العميل"
EmployeeServices ..> ClientServices : "Manage Client Accounts\nإدارة حسابات العملاء"
EmployeeServices ..> LawyerServices : "Assign Consultations\nتعيين الاستشارات"
AdminServices ..> EmployeeServices : "View Employee Data\nعرض بيانات الموظفين"
AdminServices ..> LawyerServices : "View Lawyer Data\nعرض بيانات المحامين"

legend right
    |<#CLIENT_COLOR> Client | العميل |
    |<#LAWYER_COLOR> Lawyer | المحامي |
    |<#EMPLOYEE_COLOR> Employee | الموظف |
    |<#ADMIN_COLOR> Admin | المدير |
    |<#GUEST_COLOR> Guest | الزائر |
    |<#SYSTEM_COLOR> System | النظام |
    |<#API_COLOR> API | واجهة برمجية |
    
    **Interaction Types:**
    --> Direct Request/Response
    ..> Query/Data Access
endlegend

@enduml



